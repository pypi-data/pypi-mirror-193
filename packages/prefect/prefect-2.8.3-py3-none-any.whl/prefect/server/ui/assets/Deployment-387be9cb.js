import{d as S,aj as I,c as r,Y as C,aM as R,g as F,aE as P,al as Q,a,w as o,a2 as u,a3 as j,T as B,o as s,u as e,aN as J,f as i,aO as y,b as p,aP as M,aQ as V,aR as A,aS as E,au as W,aJ as X,aT as Y}from"./index-a81c9c30-993a6f39.js";import{u as $}from"./useToast-a6324048.js";import{u as q}from"./usePageTitle-5af9d279.js";import"./index-0c866963.js";import{r as z}from"./routes-cd83593a.js";const te=S({__name:"Deployment",setup(G){const c=I("deploymentId"),_=r(()=>[c.value]),f=j(),h=C(),v=$(),b={interval:3e5},k=r(()=>{var n,l;return[{label:"Details",hidden:B.xl},{label:"Runs"},{label:"Parameters",hidden:(n=t.value)==null?void 0:n.deprecated},{label:"Infra Overrides",hidden:(l=t.value)==null?void 0:l.deprecated},{label:"Description"}]}),g=R(k),d=F(h.deployments.getDeployment,[c.value],b),t=r(()=>d.response);function w(){f.push(z.deployments())}const m=r(()=>{var n;return(n=t.value)!=null&&n.infrastructureOverrides?JSON.stringify(t.value.infrastructureOverrides,void 0,2):"{}"}),{filter:x}=P({deployments:{id:_}}),D=r(()=>t.value?`Deployment: ${t.value.name}`:"Deployment");return q(D),Q(t,()=>{var n,l;!((n=t.value)!=null&&n.workQueueName)&&!((l=t.value)!=null&&l.deprecated)&&v(Y.info.deploymentMissingWorkQueue,"default",{timeout:!1})}),(n,l)=>{const T=u("p-content"),O=u("p-code-highlight"),U=u("p-tabs"),N=u("p-layout-well");return s(),a(N,{class:"deployment"},{header:o(()=>[e(t)?(s(),a(e(J),{key:0,deployment:e(t),onUpdate:e(d).refresh,onDelete:w},null,8,["deployment","onUpdate"])):i("",!0)]),well:o(()=>[e(t)?(s(),a(e(y),{key:0,deployment:e(t),alternate:"",onUpdate:e(d).refresh},null,8,["deployment","onUpdate"])):i("",!0)]),default:o(()=>[e(t)?(s(),a(U,{key:0,tabs:e(g)},{description:o(()=>[p(T,{secondary:""},{default:o(()=>[e(t).deprecated?(s(),a(e(M),{key:0})):e(t).description?(s(),a(e(V),{key:1,description:e(t).description},null,8,["description"])):(s(),a(e(A),{key:2,deployment:e(t)},null,8,["deployment"]))]),_:1})]),parameters:o(()=>[p(e(E),{deployment:e(t)},null,8,["deployment"])]),"infra-overrides":o(()=>[e(t)?(s(),a(e(W),{key:0,"text-to-copy":e(m)},{default:o(()=>[p(O,{lang:"json",text:e(m),class:"deployment__infra-overrides"},null,8,["text"])]),_:1},8,["text-to-copy"])):i("",!0)]),details:o(()=>[p(e(y),{deployment:e(t),onUpdate:e(d).refresh},null,8,["deployment","onUpdate"])]),runs:o(()=>[p(e(X),{"flow-run-filter":e(x)},null,8,["flow-run-filter"])]),_:1},8,["tabs"])):i("",!0)]),_:1})}}});export{te as default};
