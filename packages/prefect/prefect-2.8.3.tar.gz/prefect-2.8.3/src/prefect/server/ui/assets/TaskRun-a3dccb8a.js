import{d as A,aj as C,Y as N,c as a,ax as i,am as S,u as s,a as k,w as n,f as _,a2 as l,a3 as j,T as B,o as d,b as u,ay as F,az as f,aA as O,au as V}from"./index-a81c9c30-993a6f39.js";import{u as z}from"./usePageTitle-5af9d279.js";import"./index-0c866963.js";import{r as J}from"./routes-cd83593a.js";const $=A({__name:"TaskRun",setup(K){const m=j(),r=C("taskRunId"),c=N(),R=a(()=>{const t=["Logs","Task Inputs"];return B.xl||t.push("Details"),t}),v=a(()=>r.value?[r.value]:null),g=i(c.taskRuns.getTaskRun,v,{interval:3e4}),e=a(()=>g.response),o=a(()=>{var t;return(t=e.value)==null?void 0:t.flowRunId}),h=a(()=>o.value?[o.value]:null),w=i(c.flowRuns.getFlowRun,h),p=a(()=>{var t;return(t=e.value)!=null&&t.taskInputs?JSON.stringify(e.value.taskInputs,void 0,2):"{}"});function y(){w.refresh(),m.push(J.flowRun(o.value))}const T=a(()=>{var t;return(t=e.value)==null?void 0:t.stateType});S(T);const x=a(()=>e.value?`Task Run: ${e.value.name}`:"Task Run");return z(x),(t,L)=>{const I=l("p-code-highlight"),b=l("p-tabs"),D=l("p-layout-well");return s(e)?(d(),k(D,{key:0,class:"task-run"},{header:n(()=>[u(s(F),{"task-run-id":s(e).id,onDelete:y},null,8,["task-run-id"])]),well:n(()=>[u(s(f),{alternate:"","task-run":s(e)},null,8,["task-run"])]),default:n(()=>[u(b,{tabs:s(R)},{details:n(()=>[u(s(f),{"task-run":s(e)},null,8,["task-run"])]),logs:n(()=>[u(s(O),{"task-run":s(e)},null,8,["task-run"])]),"task-inputs":n(()=>[t.deployment?(d(),k(s(V),{key:0,"text-to-copy":s(p)},{default:n(()=>[u(I,{lang:"json",text:s(p),class:"task-run__inputs"},null,8,["text"])]),_:1},8,["text-to-copy"])):_("",!0)]),_:1},8,["tabs"])]),_:1})):_("",!0)}}});export{$ as default};
