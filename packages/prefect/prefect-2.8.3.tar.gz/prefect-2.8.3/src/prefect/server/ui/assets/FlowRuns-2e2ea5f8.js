import{d as O,Y as z,g as i,c as r,r as v,a0 as E,a1 as J,a as t,w as d,a2 as b,a3 as P,o as s,b as l,u as e,a4 as W,l as h,a5 as X,a6 as g,a7 as Y,T as F,a8 as j,f,a9 as w,aa as q,ab as G,ac as I,ad as K,ae as M,af as Q,ag as Z,ah as $,ai as ee}from"./index-a81c9c30-993a6f39.js";import{u as se}from"./usePageTitle-5af9d279.js";import"./index-0c866963.js";import{r as oe}from"./routes-cd83593a.js";const te={class:"flow-runs__list"},ne={class:"flow-runs__list-controls"},ae={class:"flow-runs__list-controls--right"},fe=O({__name:"FlowRuns",setup(le){const C=P(),c=z(),_=i(c.flowRuns.getFlowRunsCount,[{}]),S=r(()=>_.executed),V=r(()=>_.response===0),m=v(),x=E(m,1200),{filter:o,isCustomFilter:N}=J({flowRuns:{nameLike:x}}),p={interval:3e4},R=i(c.flowRuns.getFlowRunsCount,[o],p),L=r(()=>R.response),T=i(c.ui.getFlowRunHistory,[o],p),B=r(()=>T.response??[]),y=i(c.flowRuns.getFlowRuns,[o],p),k=r(()=>y.response??[]),n=v([]);function H(){C.push(oe.flowRuns())}const U=()=>{n.value=[],y.refresh(),R.refresh()};return se("Flow Runs"),(ue,a)=>{const A=b("p-button"),D=b("p-layout-default");return s(),t(D,{class:"flow-runs"},{header:d(()=>[l(e(W))]),default:d(()=>[e(S)?(s(),h(g,{key:0},[e(V)?(s(),t(e(X),{key:0})):(s(),h(g,{key:1},[l(e(Y)),e(F).md?(s(),t(e(j),{key:0,history:e(B),"start-date":e(o).flowRuns.expectedStartTimeAfter,"end-date":e(o).flowRuns.expectedStartTimeBefore,class:"flow-runs__chart"},null,8,["history","start-date","end-date"])):f("",!0),w("div",te,[w("div",ne,[w("div",ae,[n.value.length==0?(s(),t(e(q),{key:0,count:e(L),label:"Flow run"},null,8,["count"])):(s(),t(e(G),{key:1,count:n.value.length},null,8,["count"])),l(e(I),{selected:n.value,onDelete:U},null,8,["selected"])]),e(F).md?(s(),t(e(K),{key:0,modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=u=>m.value=u),placeholder:"Search by run name",label:"Search by run name"},null,8,["modelValue"])):f("",!0),l(e(M),{modelValue:e(o).sort,"onUpdate:modelValue":a[1]||(a[1]=u=>e(o).sort=u)},null,8,["modelValue"])]),l(e(Q),{selected:n.value,"onUpdate:selected":a[2]||(a[2]=u=>n.value=u),"flow-runs":e(k)},null,8,["selected","flow-runs"]),e(k).length?f("",!0):(s(),t(e(Z),{key:0},$({_:2},[e(N)?{name:"actions",fn:d(()=>[l(A,{size:"sm",secondary:"",onClick:H},{default:d(()=>[ee(" Clear Filters ")]),_:1})]),key:"0"}:void 0]),1024))])],64))],64)):f("",!0)]),_:1})}}});export{fe as default};
