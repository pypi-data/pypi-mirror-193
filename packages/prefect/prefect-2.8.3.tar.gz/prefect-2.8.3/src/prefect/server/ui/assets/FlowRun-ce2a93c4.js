import{d as I,r as D,aj as L,c as l,Y as N,g as V,ak as j,al as A,am as B,a as o,w as s,a2 as c,a3 as O,T as q,an as G,o as n,u as e,ao as U,f as u,ap as d,aq as Y,b as m,ar as $,as as z,at as E,au as H}from"./index-a81c9c30-993a6f39.js";import{u as J}from"./usePageTitle-5af9d279.js";import"./index-0c866963.js";import{r as K}from"./routes-cd83593a.js";const ee=I({__name:"FlowRun",setup(M){const _=O(),p=D("Logs"),f=L("flowRunId"),y=l(()=>{const a=["Logs","Task Runs","Subflow Runs","Parameters"];return q.xl||a.push("Details"),a}),v=N(),R=V(v.flowRuns.getFlowRun,[f],{interval:5e3}),t=l(()=>R.response),g=l(()=>{var a;return(a=t.value)==null?void 0:a.deploymentId}),w=j(g);A(f,(a,r)=>{a!==r&&(p.value="Logs")});const k=l(()=>{var a;return((a=t.value)==null?void 0:a.parameters)??{}}),h=l(()=>{var a;return((a=w.value)==null?void 0:a.parameterOpenApiSchema)??{}}),i=l(()=>G(k.value,h.value));function b(){_.push(K.flowRuns())}const x=l(()=>{var a;return(a=t.value)==null?void 0:a.stateType});B(x);const T=l(()=>t.value?`Flow Run: ${t.value.name}`:"Flow Run");return J(T),(a,r)=>{const F=c("p-code-highlight"),S=c("p-tabs"),P=c("p-layout-well");return n(),o(P,{class:"flow-run"},{header:s(()=>[e(t)?(n(),o(e(U),{key:0,"flow-run-id":e(t).id,onDelete:b},null,8,["flow-run-id"])):u("",!0)]),well:s(()=>[e(t)?(n(),o(e(d),{key:0,"flow-run":e(t),alternate:""},null,8,["flow-run"])):u("",!0)]),default:s(()=>[e(t)?(n(),o(e(Y),{key:0,"flow-run":e(t)},null,8,["flow-run"])):u("",!0),m(S,{selected:p.value,"onUpdate:selected":r[0]||(r[0]=C=>p.value=C),tabs:e(y)},{details:s(()=>[e(t)?(n(),o(e(d),{key:0,"flow-run":e(t)},null,8,["flow-run"])):u("",!0)]),logs:s(()=>[e(t)?(n(),o(e($),{key:0,"flow-run":e(t)},null,8,["flow-run"])):u("",!0)]),"task-runs":s(()=>[e(t)?(n(),o(e(z),{key:0,"flow-run-id":e(t).id},null,8,["flow-run-id"])):u("",!0)]),"subflow-runs":s(()=>[e(t)?(n(),o(e(E),{key:0,"flow-run-id":e(t).id},null,8,["flow-run-id"])):u("",!0)]),parameters:s(()=>[e(w)?(n(),o(e(H),{key:0,"text-to-copy":e(i)},{default:s(()=>[m(F,{lang:"json",text:e(i),class:"flow-run__parameters"},null,8,["text"])]),_:1},8,["text-to-copy"])):u("",!0)]),_:1},8,["selected","tabs"])]),_:1})}}});export{ee as default};
