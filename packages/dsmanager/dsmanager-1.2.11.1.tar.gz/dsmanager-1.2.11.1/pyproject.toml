[tool.poetry]
name = "dsmanager"
version = "1.2.11.1"
description = "Data Science tools to ease access and use of data and models"
authors = ["Rayane AMROUCHE <rayaneamrouche@gmail.com>"]
license = "GPL-3.0-or-later"
readme = "README.md"

packages = [{ include = "dsmanager" }, { include = "dsmanager/**/*.py" }]

### DEPENDENCIES ###
[tool.poetry.dependencies]
python = ">=3.8,<4"

#main libs
pandas = "^1.5.0"
numpy = "^1.23.3"

#source
sqlalchemy = { extras = ["asyncio"], version = "^1.4.46" }
paramiko = "^2.12.0"
requests = "^2.28.1"

#pandas libs
openpyxl = "^3.0.10"
numexpr = "^2.8.4"
xlrd = "^2.0.1"

#Utils
python-dotenv = "^0.21.0"
pickle-mixin = "^1.0.2"
decorator = "^5.1.1"
tqdm = "^4.64.1"

#Error avoiding
cryptography = "38.0.4"
setuptools = "^65.6.3"
llvmlite = "^0.39.1"
numba = "^0.56.4"

#Modelling
scikit-learn = { version = "^1.2.1", optional = true }
optuna = { version = "^3.1.0", optional = true }
shap = { version = "^0.41.0", optional = true }


#Async
nest-asyncio = "^1.5.6"
aiohttp = "^3.8.3"

#Extras
azure-common = { version = "^1.1.28", optional = true }
azure-storage-blob = { version = "^12.14.1", optional = true }
azure-storage-common = { version = "^2.1.0", optional = true }
kaggle = { version = "^1.5.12", optional = true }
shareplum = { version = "^0.5.1", optional = true }
simple-salesforce = { version = "^1.12.2", optional = true }
snowflake-connector-python = { version = "^2.9.0", optional = true }
snowflake-sqlalchemy = { version = "^1.4.4", optional = true }
psycopg2-binary = { version = "^2.9.5", optional = true }
mysqlclient = { version = "^2.1.1", optional = true }

[tool.poetry.dev-dependencies]
pydata-sphinx-theme = "^0.12.0"
myst-parser = "^0.18.1"
ipywidgets = "^8.0.4"
notebook = "^6.5.1"
jupyter = "^1.0.0"
ipython = "^8.7.0"
sphinx = "4.5.0"
pylint = "^2.15.4"
pytest = "^7.1.3"
black = "^22.12.0"
mypy = "^0.982"
pdoc = "^12.3.0"

[tool.poetry.extras]
sharepoint = [
    "azure-storage-common",
    "azure-storage-blob",
    "azure-common",
    "shareplum",
]
salesforce = ["simple-salesforce"]
snowflake = ["snowflake-connector-python", "snowflake-sqlalchemy"]
kaggle = ["kaggle"]
mysql = ["mysqlclient"]
pgsql = ["psycopg2-binary"]

models = ["scikit-learn", "optuna", "shap"]

all_sources = [
    "azure-storage-common",
    "azure-storage-blob",
    "azure-common",
    "shareplum",
    "simple-salesforce",
    "snowflake-connector-python",
    "snowflake-sqlalchemy",
    "kaggle",
    "mysqlclient",
    "psycopg2-binary",
    "scikit-learn",
    "optuna",
    "shap",
]

[build-system]
requires = ["poetry-core>=1.0.0"]
build-backend = "poetry.core.masonry.api"

[tool.pylint.messages_control]
max-line-length = 88
