(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[7029],{1150:function(t){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},2481:function(t,e,n){var a=n(2109),s=n(8415);a({target:"String",proto:!0},{repeat:s})},4765:function(t,e,n){"use strict";var a=n(6916),s=n(7007),u=n(9670),o=n(4488),l=n(1150),i=n(1340),r=n(8173),c=n(7651);s("search",(function(t,e,n){return[function(e){var n=o(this),s=void 0==e?void 0:r(e,t);return s?a(s,e,n):new RegExp(e)[t](i(n))},function(t){var a=u(this),s=i(t),o=n(e,a,s);if(o.done)return o.value;var r=a.lastIndex;l(r,0)||(a.lastIndex=0);var d=c(a,s);return l(a.lastIndex,r)||(a.lastIndex=r),null===d?-1:d.index}]}))},9978:function(t,e,n){"use strict";n.d(e,{Z:function(){return Kt}});var a=n(6252),s={class:"media-container"},u={class:"view-container"},o={class:"controls-container"};function l(t,e,n,l,i,r){var c=(0,a.up)("Controls");return(0,a.wg)(),(0,a.iD)("div",s,[(0,a._)("div",u,[(0,a.WI)(t.$slots,"default",{},void 0,!0)]),(0,a._)("div",o,[(0,a.Wm)(c,{status:n.status,track:n.track,buttons:n.buttons,onPlay:e[0]||(e[0]=function(e){return t.$emit("play",e)}),onPause:e[1]||(e[1]=function(e){return t.$emit("pause",e)}),onStop:e[2]||(e[2]=function(e){return t.$emit("stop")}),onPrevious:e[3]||(e[3]=function(e){return t.$emit("previous")}),onNext:e[4]||(e[4]=function(e){return t.$emit("next")}),onSeek:e[5]||(e[5]=function(e){return t.$emit("seek",e)}),onSetVolume:e[6]||(e[6]=function(e){return t.$emit("set-volume",e)}),onConsume:e[7]||(e[7]=function(e){return t.$emit("consume",e)}),onRepeat:e[8]||(e[8]=function(e){return t.$emit("repeat",e)}),onRandom:e[9]||(e[9]=function(e){return t.$emit("random",e)}),onSearch:e[10]||(e[10]=function(e){return t.$emit("search",e)})},null,8,["status","track","buttons"])])])}n(2481);var i=n(3577),r=n(9963),c=function(t){return(0,a.dD)("data-v-8db4988a"),t=t(),(0,a.Cn)(),t},d={class:"row"},p=c((function(){return(0,a._)("div",{class:"col-3"},null,-1)})),f={class:"col-6"},m={class:"buttons"},v=c((function(){return(0,a._)("i",{class:"icon fa fa-step-backward"},null,-1)})),k=[v],b=c((function(){return(0,a._)("i",{class:"icon fa fa-stop"},null,-1)})),y=[b],_=c((function(){return(0,a._)("i",{class:"icon fa fa-step-forward"},null,-1)})),g=[_],h=c((function(){return(0,a._)("div",{class:"col-3"},null,-1)})),w={class:"row"},C={class:"col-9 volume-container"},x={class:"col-1"},$=["disabled"],D=c((function(){return(0,a._)("i",{class:"icon fa fa-volume-up"},null,-1)})),T=[D],q={class:"col-11 volume-slider"},M={class:"col-3 list-controls"},S=c((function(){return(0,a._)("i",{class:"icon fa fa-utensils"},null,-1)})),U=[S],P=c((function(){return(0,a._)("i",{class:"icon fa fa-random"},null,-1)})),Z=[P],I=c((function(){return(0,a._)("i",{class:"icon fa fa-redo"},null,-1)})),z=[I],j={class:"row"},O={class:"col-s-2 col-m-1 time"},N=["textContent"],R={class:"col-s-8 col-m-10 time-bar"},W={class:"col-s-2 col-m-1 time"},A=["textContent"],B={class:"controls"},H={class:"playback-controls mobile tablet col-2"},K=["title"],L={key:0,class:"icon play-pause fa fa-pause"},V={key:1,class:"icon play-pause fa fa-play"},E={class:"track-container col-s-8 col-m-8 col-l-3"},Y={key:0,class:"track-info"},F={key:0,class:"title"},G=["href","textContent"],J=["href","textContent"],Q=["textContent"],X={key:1,class:"artist"},tt=["href","textContent"],et={class:"playback-controls desktop col-6"},nt={class:"row buttons"},at=c((function(){return(0,a._)("i",{class:"icon fa fa-step-backward"},null,-1)})),st=[at],ut=["title"],ot={key:0,class:"icon play-pause fa fa-pause"},lt={key:1,class:"icon play-pause fa fa-play"},it=c((function(){return(0,a._)("i",{class:"icon fa fa-stop"},null,-1)})),rt=[it],ct=c((function(){return(0,a._)("i",{class:"icon fa fa-step-forward"},null,-1)})),dt=[ct],pt={class:"row"},ft={class:"col-1 time"},mt=["textContent"],vt={class:"col-10"},kt={class:"col-1 time"},bt=["textContent"],yt={class:"col-2 pull-right mobile tablet right-buttons"},_t=["title"],gt={class:"col-3 pull-right desktop"},ht={class:"row list-controls"},wt=c((function(){return(0,a._)("i",{class:"icon fa fa-utensils"},null,-1)})),Ct=[wt],xt=c((function(){return(0,a._)("i",{class:"icon fa fa-random"},null,-1)})),$t=[xt],Dt=c((function(){return(0,a._)("i",{class:"icon fa fa-redo"},null,-1)})),Tt=[Dt],qt={class:"row volume-container"},Mt={class:"col-2"},St=["disabled"],Ut=c((function(){return(0,a._)("i",{class:"icon fa fa-volume-up"},null,-1)})),Pt=[Ut],Zt={class:"col-10"};function It(t,e,n,s,u,o){var l,c,v,b,_,D=(0,a.up)("Slider");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("div",{class:(0,i.C_)(["extension fade-in",{hidden:!u.expanded}])},[(0,a._)("div",d,[p,(0,a._)("div",f,[(0,a._)("div",m,[u.buttons_.previous?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:e[0]||(e[0]=function(e){return t.$emit("previous")}),title:"Play previous track"},k)):(0,a.kq)("",!0),u.buttons_.stop&&"stop"!==n.status.state?((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:e[1]||(e[1]=function(e){return t.$emit("stop")}),title:"Stop playback"},y)):(0,a.kq)("",!0),u.buttons_.next?((0,a.wg)(),(0,a.iD)("button",{key:2,onClick:e[2]||(e[2]=function(e){return t.$emit("next")}),title:"Play next track"},g)):(0,a.kq)("",!0)])]),h]),(0,a._)("div",w,[(0,a._)("div",C,[(0,a._)("div",x,[(0,a._)("button",{disabled:null==n.status.muted,onClick:e[3]||(e[3]=function(e){return t.$emit(n.status.muted?"unmute":"mute")})},T,8,$)]),(0,a._)("div",q,[(0,a.Wm)(D,{value:n.status.volume,range:n.volumeRange,disabled:null==n.status.volume,onMouseup:e[4]||(e[4]=function(e){return t.$emit("set-volume",e.target.value)})},null,8,["value","range","disabled"])])]),(0,a._)("div",M,[u.buttons_.consume?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:e[5]||(e[5]=function(e){return t.$emit("consume",!n.status.consume)}),class:(0,i.C_)({enabled:n.status.consume}),title:"Toggle consume mode"},U,2)):(0,a.kq)("",!0),u.buttons_.random?((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:e[6]||(e[6]=function(e){return t.$emit("random",!n.status.random)}),class:(0,i.C_)({enabled:n.status.random}),title:"Toggle shuffle"},Z,2)):(0,a.kq)("",!0),u.buttons_.repeat?((0,a.wg)(),(0,a.iD)("button",{key:2,onClick:e[7]||(e[7]=function(e){return t.$emit("repeat",!n.status.repeat)}),class:(0,i.C_)({enabled:n.status.repeat}),title:"Toggle repeat"},z,2)):(0,a.kq)("",!0)])]),(0,a._)("div",j,[(0,a._)("div",O,[(0,a._)("span",{class:"elapsed-time",textContent:(0,i.zw)(null==u.elapsed||"play"!==n.status.state&&"pause"!==n.status.state?"-:--":t.convertTime(u.elapsed))},null,8,N)]),(0,a._)("div",R,[(0,a.Wm)(D,{value:u.elapsed,range:[0,o.duration],disabled:!o.duration||"stop"===n.status.state,onMouseup:e[8]||(e[8]=function(e){return t.$emit("seek",e.target.value)})},null,8,["value","range","disabled"])]),(0,a._)("div",W,[(0,a._)("span",{class:"total-time",textContent:(0,i.zw)(o.duration&&"stop"!==n.status.state?t.convertTime(o.duration):"-:--")},null,8,A)])])],2),(0,a._)("div",B,[(0,a._)("div",H,[(0,a._)("button",{onClick:e[9]||(e[9]=function(e){return t.$emit("play"===n.status.state?"pause":"play")}),title:"play"===n.status.state?"Pause":"Play"},["play"===n.status.state?((0,a.wg)(),(0,a.iD)("i",L)):((0,a.wg)(),(0,a.iD)("i",V))],8,K)]),(0,a._)("div",E,[n.track&&"stop"!==(null===(l=n.status)||void 0===l?void 0:l.state)?((0,a.wg)(),(0,a.iD)("div",Y,["play"===n.status.state||"pause"===n.status.state?((0,a.wg)(),(0,a.iD)("div",F,[n.track.album?((0,a.wg)(),(0,a.iD)("a",{key:0,href:t.$route.fullPath,textContent:(0,i.zw)(null!==(c=n.track.title)&&void 0!==c&&c.length?n.track.title:"[No Title]"),onClick:e[10]||(e[10]=(0,r.iM)((function(e){return t.$emit("search",{artist:n.track.artist,album:n.track.album})}),["prevent"]))},null,8,G)):n.track.url?((0,a.wg)(),(0,a.iD)("a",{key:1,href:n.track.url,textContent:(0,i.zw)(null!==(v=n.track.title)&&void 0!==v&&v.length?n.track.title:"[No Title]")},null,8,J)):((0,a.wg)(),(0,a.iD)("span",{key:2,textContent:(0,i.zw)(null!==(b=n.track.title)&&void 0!==b&&b.length?n.track.title:"[No Title]")},null,8,Q))])):(0,a.kq)("",!0),null===(_=n.track.artist)||void 0===_||!_.length||"play"!==n.status.state&&"pause"!==n.status.state?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",X,[(0,a._)("a",{href:t.$route.fullPath,textContent:(0,i.zw)(n.track.artist),onClick:e[11]||(e[11]=(0,r.iM)((function(e){return t.$emit("search",{artist:n.track.artist})}),["prevent"]))},null,8,tt)]))])):(0,a.kq)("",!0)]),(0,a._)("div",et,[(0,a._)("div",nt,[u.buttons_.previous?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:e[12]||(e[12]=function(e){return t.$emit("previous")}),title:"Play previous track"},st)):(0,a.kq)("",!0),(0,a._)("button",{onClick:e[13]||(e[13]=function(e){return t.$emit("play"===n.status.state?"pause":"play")}),title:"play"===n.status.state?"Pause":"Play"},["play"===n.status.state?((0,a.wg)(),(0,a.iD)("i",ot)):((0,a.wg)(),(0,a.iD)("i",lt))],8,ut),u.buttons_.stop&&"stop"!==n.status.state?((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:e[14]||(e[14]=function(e){return t.$emit("stop")}),title:"Stop playback"},rt)):(0,a.kq)("",!0),u.buttons_.next?((0,a.wg)(),(0,a.iD)("button",{key:2,onClick:e[15]||(e[15]=function(e){return t.$emit("next")}),title:"Play next track"},dt)):(0,a.kq)("",!0)]),(0,a._)("div",pt,[(0,a._)("div",ft,[(0,a._)("span",{class:"elapsed-time",textContent:(0,i.zw)(null==u.elapsed||"play"!==n.status.state&&"pause"!==n.status.state?"-:--":t.convertTime(u.elapsed))},null,8,mt)]),(0,a._)("div",vt,[(0,a.Wm)(D,{value:u.elapsed,range:[0,o.duration],disabled:!o.duration||"stop"===n.status.state,onMouseup:e[16]||(e[16]=function(e){return t.$emit("seek",e.target.value)})},null,8,["value","range","disabled"])]),(0,a._)("div",kt,[(0,a._)("span",{class:"total-time",textContent:(0,i.zw)(o.duration&&"stop"!==n.status.state?t.convertTime(o.duration):"-:--")},null,8,bt)])])]),(0,a._)("div",yt,[(0,a._)("button",{onClick:e[17]||(e[17]=function(t){return u.expanded=!u.expanded}),title:u.expanded?"Show more controls":"Hide extra controls"},[(0,a._)("i",{class:(0,i.C_)(["fas",["fa-chevron-".concat(u.expanded?"down":"up")]])},null,2)],8,_t)]),(0,a._)("div",gt,[(0,a._)("div",ht,[u.buttons_.consume?((0,a.wg)(),(0,a.iD)("button",{key:0,onClick:e[18]||(e[18]=function(e){return t.$emit("consume")}),class:(0,i.C_)({enabled:n.status.consume}),title:"Toggle consume mode"},Ct,2)):(0,a.kq)("",!0),u.buttons_.random?((0,a.wg)(),(0,a.iD)("button",{key:1,onClick:e[19]||(e[19]=function(e){return t.$emit("random")}),class:(0,i.C_)({enabled:n.status.random}),title:"Toggle shuffle"},$t,2)):(0,a.kq)("",!0),u.buttons_.repeat?((0,a.wg)(),(0,a.iD)("button",{key:2,onClick:e[20]||(e[20]=function(e){return t.$emit("repeat")}),class:(0,i.C_)({enabled:n.status.repeat}),title:"Toggle repeat"},Tt,2)):(0,a.kq)("",!0)]),(0,a._)("div",qt,[(0,a._)("div",Mt,[(0,a._)("button",{disabled:null==n.status.muted,onClick:e[21]||(e[21]=function(e){return t.$emit(n.status.muted?"unmute":"mute")})},Pt,8,St)]),(0,a._)("div",Zt,[(0,a.Wm)(D,{value:n.status.volume,range:n.volumeRange,disabled:null==n.status.volume,onMouseup:e[22]||(e[22]=function(e){return t.$emit("set-volume",e.target.value)})},null,8,["value","range","disabled"])])])])])],64)}n(7941);var zt=n(2628),jt=n(8337),Ot=n(1120),Nt={name:"Controls",components:{Slider:Ot.Z},mixins:[zt.Z,jt.Z],emits:["search","previous","next","play","pause","stop","seek","consume","random","repeat","set-volume","mute","unmute"],props:{track:{type:Object},status:{type:Object,default:function(){}},buttons:{type:Object,default:function(){return{previous:!0,next:!0,stop:!0,consume:!0,random:!0,repeat:!0}}},volumeRange:{type:Array,default:function(){return[0,100]}}},data:function(){var t,e,n,a=null!==(t=Object.keys(this.buttons))&&void 0!==t&&t.length?this.buttons:{previous:!0,next:!0,stop:!0,consume:!0,random:!0,repeat:!0};return{expanded:!1,lastSync:0,elapsed:(null===(e=this.status)||void 0===e?void 0:e.elapsed)||(null===(n=this.status)||void 0===n?void 0:n.position),buttons_:a}},computed:{duration:function(){var t,e;return null!=(null===(t=this.status)||void 0===t?void 0:t.duration)?this.status.duration:null===(e=this.track)||void 0===e?void 0:e.duration}},methods:{getTime:function(){return(new Date).getTime()/1e3}},mounted:function(){var t=this,e=this;this.lastSync=this.getTime(),this.$watch((function(){return t.track}),(function(n){var a;n&&"play"===(null===(a=e.status)||void 0===a?void 0:a.state)||(e.lastSync=t.getTime())})),this.$watch((function(){return t.status}),(function(){e.lastSync=t.getTime()})),setInterval((function(){var n,a,s,u;"stop"!==(null===(n=e.status)||void 0===n?void 0:n.state)&&(e.elapsed=(null===(a=e.status)||void 0===a?void 0:a.elapsed)||(null===(s=e.status)||void 0===s?void 0:s.position)||0,"play"===(null===(u=e.status)||void 0===u?void 0:u.state)&&(e.elapsed+=Math.round(t.getTime()-e.lastSync)))}),1e3)}},Rt=n(3744);const Wt=(0,Rt.Z)(Nt,[["render",It],["__scopeId","data-v-8db4988a"]]);var At=Wt,Bt={name:"View",components:{Controls:At},emits:["play","pause","stop","next","previous","set-volume","seek","consume","random","repeat","search"],props:{pluginName:{type:String,required:!0},status:{type:Object,default:function(){}},track:{type:Object},buttons:{type:Object}}};const Ht=(0,Rt.Z)(Bt,[["render",l],["__scopeId","data-v-70d7a7df"]]);var Kt=Ht},1120:function(t,e,n){"use strict";n.d(e,{Z:function(){return b}});var a=n(6252),s=n(9963),u=n(3577),o={class:"slider-wrapper"},l=["min","max","step","disabled","value"],i={class:"track"},r={class:"track-inner",ref:"track"},c={class:"thumb",ref:"thumb"},d=["textContent"];function p(t,e,n,p,f,m){return(0,a.wg)(),(0,a.iD)("label",o,[(0,a._)("input",{class:"slider",type:"range",ref:"range",min:n.range[0],max:n.range[1],step:n.step,disabled:n.disabled,value:n.value,onInput:e[0]||(e[0]=(0,s.iM)((function(){return m.onUpdate&&m.onUpdate.apply(m,arguments)}),["stop"])),onChange:e[1]||(e[1]=(0,s.iM)((function(){return m.onUpdate&&m.onUpdate.apply(m,arguments)}),["stop"])),onMouseup:e[2]||(e[2]=(0,s.iM)((function(){return m.onUpdate&&m.onUpdate.apply(m,arguments)}),["stop"])),onMousedown:e[3]||(e[3]=(0,s.iM)((function(){return m.onUpdate&&m.onUpdate.apply(m,arguments)}),["stop"])),onTouchstart:e[4]||(e[4]=(0,s.iM)((function(){return m.onUpdate&&m.onUpdate.apply(m,arguments)}),["stop"])),onTouchend:e[5]||(e[5]=(0,s.iM)((function(){return m.onUpdate&&m.onUpdate.apply(m,arguments)}),["stop"])),onKeyup:e[6]||(e[6]=(0,s.iM)((function(){return m.onUpdate&&m.onUpdate.apply(m,arguments)}),["stop"])),onKeydown:e[7]||(e[7]=(0,s.iM)((function(){return m.onUpdate&&m.onUpdate.apply(m,arguments)}),["stop"]))},null,40,l),(0,a._)("div",i,[(0,a._)("div",r,null,512)]),(0,a._)("div",c,null,512),n.withLabel?((0,a.wg)(),(0,a.iD)("span",{key:0,class:"label",textContent:(0,u.zw)(n.value)},null,8,d)):(0,a.kq)("",!0)])}var f=n(4648),m=(n(9653),{name:"Slider",emits:["input","change","mouseup","mousedown","touchstart","touchend","keyup","keydown"],props:{value:{type:Number},disabled:{type:Boolean,default:!1},range:{type:Array,default:function(){return[0,100]}},step:{type:Number,default:1},withLabel:{type:Boolean,default:!1}},methods:{onUpdate:function(t){this.update(t.target.value),this.$emit(t.type,(0,f.Z)((0,f.Z)({},t),{},{target:(0,f.Z)((0,f.Z)({},t.target),{},{value:this.$refs.range.value})}))},update:function(t){var e=100*t/(this.range[1]-this.range[0]);this.$refs.thumb.style.left="".concat(e,"%"),this.$refs.thumb.style.transform="translate(-".concat(e,"%, -50%)"),this.$refs.track.style.width="".concat(e,"%")}},mounted:function(){null!=this.value&&this.update(this.value)}}),v=n(3744);const k=(0,v.Z)(m,[["render",p],["__scopeId","data-v-288acf82"]]);var b=k}}]);
//# sourceMappingURL=7029-legacy.22d2270b.js.map