"use strict";(self["webpackChunkplatypush"]=self["webpackChunkplatypush"]||[]).push([[2844],{6137:function(e,t,n){n.d(t,{Z:function(){return w}});var i=n(6252),s=n(3577),c=n(9963),l=function(e){return(0,i.dD)("data-v-8e097228"),e=e(),(0,i.Cn)(),e},a=["checked"],o=l((function(){return(0,i._)("div",{class:"switch"},[(0,i._)("div",{class:"dot"})],-1)})),u={class:"label"};function r(e,t,n,l,r,d){return(0,i.wg)(),(0,i.iD)("div",{class:(0,s.C_)(["power-switch",{disabled:n.disabled}]),onClick:t[0]||(t[0]=(0,c.iM)((function(){return d.onInput&&d.onInput.apply(d,arguments)}),["stop"]))},[(0,i._)("input",{type:"checkbox",checked:n.value},null,8,a),(0,i._)("label",null,[o,(0,i._)("span",u,[(0,i.WI)(e.$slots,"default",{},void 0,!0)])])],2)}var d={name:"ToggleSwitch",emits:["input"],props:{value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},methods:{onInput:function(e){if(this.disabled)return!1;this.$emit("input",e)}}},v=n(3744);const f=(0,v.Z)(d,[["render",r],["__scopeId","data-v-8e097228"]]);var w=f},2844:function(e,t,n){n.r(t),n.d(t,{default:function(){return ve}});n(7941),n(8309),n(9600);var i=n(6252),s=n(3577),c=function(e){return(0,i.dD)("data-v-5d844500"),e=e(),(0,i.Cn)(),e},l={class:"switches switchbot-switches"},a={key:1,class:"no-content"},o={key:0,class:"switch-info"},u={class:"row"},r=c((function(){return(0,i._)("div",{class:"name"},"Name",-1)})),d=["textContent"],v={class:"row"},f=c((function(){return(0,i._)("div",{class:"name"},"On",-1)})),w=["textContent"],g={key:0,class:"row"},p=c((function(){return(0,i._)("div",{class:"name"},"Reachable",-1)})),h=["textContent"],m={key:1,class:"row"},D=c((function(){return(0,i._)("div",{class:"name"},"Brightness",-1)})),k=["textContent"],_={key:2,class:"row"},x=c((function(){return(0,i._)("div",{class:"name"},"Color Temperature",-1)})),C=["textContent"],y={key:3,class:"row"},q=c((function(){return(0,i._)("div",{class:"name"},"Hue",-1)})),b=["textContent"],I={key:4,class:"row"},z=c((function(){return(0,i._)("div",{class:"name"},"Saturation",-1)})),Z=["textContent"],S={key:5,class:"row"},T=c((function(){return(0,i._)("div",{class:"name"},"XY",-1)})),R=["textContent"],M={key:6,class:"row"},j=c((function(){return(0,i._)("div",{class:"name"},"Product",-1)})),B=["textContent"],N={key:7,class:"row"},L=c((function(){return(0,i._)("div",{class:"name"},"Manufacturer",-1)})),$=["textContent"],H={key:8,class:"row"},O=c((function(){return(0,i._)("div",{class:"name"},"Type",-1)})),E=["textContent"],P={key:9,class:"row"},W=c((function(){return(0,i._)("div",{class:"name"},"ID on network",-1)})),U=["textContent"],Y={key:10,class:"row"},K=c((function(){return(0,i._)("div",{class:"name"},"Unique ID",-1)})),X=["textContent"],A={key:11,class:"row"},F=c((function(){return(0,i._)("div",{class:"name"},"Software version",-1)})),G=["textContent"],J={key:12,class:"row"},Q=c((function(){return(0,i._)("div",{class:"name"},"Last software update",-1)})),V=["textContent"],ee={key:13,class:"row"},te=c((function(){return(0,i._)("div",{class:"name"},"Update state",-1)})),ne=["textContent"];function ie(e,t,n,c,ie,se){var ce=(0,i.up)("Loading"),le=(0,i.up)("Switch"),ae=(0,i.up)("Modal");return(0,i.wg)(),(0,i.iD)("div",l,[e.loading?((0,i.wg)(),(0,i.j4)(ce,{key:0})):Object.keys(e.devices).length?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",a,"No Hue lights found.")),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.devices,(function(t,n){return(0,i.wg)(),(0,i.j4)(le,{loading:e.loading,name:n,state:t.on,onToggle:function(e){return se.toggle(n)},key:n,"has-info":!0,onInfo:function(t){e.selectedDevice=n,e.$refs.switchInfoModal.show()}},null,8,["loading","name","state","onToggle","onInfo"])})),128)),(0,i.Wm)(ae,{title:"Device Info",ref:"switchInfoModal"},{default:(0,i.w5)((function(){var t,n;return[e.selectedDevice?((0,i.wg)(),(0,i.iD)("div",o,[(0,i._)("div",u,[r,(0,i._)("div",{class:"value",textContent:(0,s.zw)(e.devices[e.selectedDevice].name)},null,8,d)]),(0,i._)("div",v,[f,(0,i._)("div",{class:"value",textContent:(0,s.zw)(e.devices[e.selectedDevice].on)},null,8,w)]),null!=e.devices[e.selectedDevice].reachable?((0,i.wg)(),(0,i.iD)("div",g,[p,(0,i._)("div",{class:"value",textContent:(0,s.zw)(e.devices[e.selectedDevice].reachable)},null,8,h)])):(0,i.kq)("",!0),null!=e.devices[e.selectedDevice].bri?((0,i.wg)(),(0,i.iD)("div",m,[D,(0,i._)("div",{class:"value",textContent:(0,s.zw)(e.devices[e.selectedDevice].bri)},null,8,k)])):(0,i.kq)("",!0),null!=e.devices[e.selectedDevice].ct?((0,i.wg)(),(0,i.iD)("div",_,[x,(0,i._)("div",{class:"value",textContent:(0,s.zw)(e.devices[e.selectedDevice].ct)},null,8,C)])):(0,i.kq)("",!0),null!=e.devices[e.selectedDevice].hue?((0,i.wg)(),(0,i.iD)("div",y,[q,(0,i._)("div",{class:"value",textContent:(0,s.zw)(e.devices[e.selectedDevice].hue)},null,8,b)])):(0,i.kq)("",!0),null!=e.devices[e.selectedDevice].sat?((0,i.wg)(),(0,i.iD)("div",I,[z,(0,i._)("div",{class:"value",textContent:(0,s.zw)(e.devices[e.selectedDevice].sat)},null,8,Z)])):(0,i.kq)("",!0),null!=e.devices[e.selectedDevice].xy?((0,i.wg)(),(0,i.iD)("div",S,[T,(0,i._)("div",{class:"value",textContent:(0,s.zw)("[".concat(e.devices[e.selectedDevice].xy.join(", "),"]"))},null,8,R)])):(0,i.kq)("",!0),null!=e.devices[e.selectedDevice].productname?((0,i.wg)(),(0,i.iD)("div",M,[j,(0,i._)("div",{class:"value",textContent:(0,s.zw)(e.devices[e.selectedDevice].productname)},null,8,B)])):(0,i.kq)("",!0),null!=e.devices[e.selectedDevice].manufacturername?((0,i.wg)(),(0,i.iD)("div",N,[L,(0,i._)("div",{class:"value",textContent:(0,s.zw)(e.devices[e.selectedDevice].manufacturername)},null,8,$)])):(0,i.kq)("",!0),null!=e.devices[e.selectedDevice].type?((0,i.wg)(),(0,i.iD)("div",H,[O,(0,i._)("div",{class:"value",textContent:(0,s.zw)(e.devices[e.selectedDevice].type)},null,8,E)])):(0,i.kq)("",!0),null!=e.devices[e.selectedDevice].id?((0,i.wg)(),(0,i.iD)("div",P,[W,(0,i._)("div",{class:"value",textContent:(0,s.zw)(e.devices[e.selectedDevice].id)},null,8,U)])):(0,i.kq)("",!0),null!=e.devices[e.selectedDevice].uniqueid?((0,i.wg)(),(0,i.iD)("div",Y,[K,(0,i._)("div",{class:"value",textContent:(0,s.zw)(e.devices[e.selectedDevice].uniqueid)},null,8,X)])):(0,i.kq)("",!0),null!=e.devices[e.selectedDevice].swversion?((0,i.wg)(),(0,i.iD)("div",A,[F,(0,i._)("div",{class:"value",textContent:(0,s.zw)(e.devices[e.selectedDevice].swversion)},null,8,G)])):(0,i.kq)("",!0),null!==(t=e.devices[e.selectedDevice].swupdate)&&void 0!==t&&t.lastinstall?((0,i.wg)(),(0,i.iD)("div",J,[Q,(0,i._)("div",{class:"value",textContent:(0,s.zw)(e.formatDate(e.devices[e.selectedDevice].swupdate.lastinstall,!0))},null,8,V)])):(0,i.kq)("",!0),null!==(n=e.devices[e.selectedDevice].swupdate)&&void 0!==n&&n.state?((0,i.wg)(),(0,i.iD)("div",ee,[te,(0,i._)("div",{class:"value",textContent:(0,s.zw)(e.devices[e.selectedDevice].swupdate.state)},null,8,ne)])):(0,i.kq)("",!0)])):(0,i.kq)("",!0)]})),_:1},512)])}var se=n(8534),ce=(n(5666),n(1232)),le=n(4004),ae=n(8671),oe=n(9642),ue={name:"LightHue",components:{Modal:oe.Z,Switch:ae.Z,Loading:ce.Z},mixins:[le.Z],methods:{toggle:function(e){var t=this;return(0,se.Z)(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.request("".concat(t.pluginName,".toggle"),{lights:[e]});case 2:i=n.sent,i.success&&(t.devices[e].on=!t.devices[e].on);case 4:case"end":return n.stop()}}),n)})))()}}},re=n(3744);const de=(0,re.Z)(ue,[["render",ie],["__scopeId","data-v-5d844500"]]);var ve=de},4004:function(e,t,n){n.d(t,{Z:function(){return a}});var i=n(8534),s=(n(1539),n(8309),n(5666),n(2628)),c={name:"SwitchesMixin",mixins:[s.Z],props:{pluginName:{type:String,required:!0},bus:{type:Object,required:!0},config:{type:Object,default:function(){return{}}},selected:{type:Boolean,default:!1}},data:function(){return{loading:!1,initialized:!1,selectedDevice:null,devices:{}}},methods:{onRefreshEvent:function(e){e===this.pluginName&&this.refresh()},toggle:function(e,t){var n=this;return(0,i.Z)(regeneratorRuntime.mark((function i(){var s;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return null==t&&(t=e),i.next=3,n.request("".concat(n.pluginName,".toggle"),{device:t});case 3:s=i.sent,n.devices[e].on=s.on;case 5:case"end":return i.stop()}}),i)})))()},refresh:function(){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.loading=!0,t.prev=1,t.next=4,e.request("".concat(e.pluginName,".switch_status"));case 4:e.devices=t.sent.reduce((function(e,t){var n,i=null!==(n=t.name)&&void 0!==n&&n.length?t.name:t.id;return e[i]=t,e}),{});case 5:return t.prev=5,e.loading=!1,t.finish(5);case 8:case"end":return t.stop()}}),t,null,[[1,,5,8]])})))()}},mounted:function(){var e=this;this.$watch((function(){return e.selected}),(function(t){t&&!e.initialized&&(e.refresh(),e.initialized=!0)})),this.bus.on("refresh",this.onRefreshEvent)},unmounted:function(){this.bus.off("refresh",this.onRefreshEvent)}};const l=c;var a=l},8671:function(e,t,n){n.d(t,{Z:function(){return m}});n(8309);var i=n(6252),s=n(9963),c=n(3577),l=function(e){return(0,i.dD)("data-v-38eb9831"),e=e(),(0,i.Cn)(),e},a={class:"name col-l-10 col-m-9 col-s-8"},o=l((function(){return(0,i._)("i",{class:"fa fa-info"},null,-1)})),u=[o],r=["textContent"],d={class:"toggler col-l-2 col-m-3 col-s-4"};function v(e,t,n,l,o,v){var f=(0,i.up)("Loading"),w=(0,i.up)("ToggleSwitch");return(0,i.wg)(),(0,i.iD)("div",{class:"switch",onClick:t[1]||(t[1]=(0,s.iM)((function(){return v.onToggle&&v.onToggle.apply(v,arguments)}),["stop"]))},[n.loading?((0,i.wg)(),(0,i.j4)(f,{key:0})):(0,i.kq)("",!0),(0,i._)("div",a,[n.hasInfo?((0,i.wg)(),(0,i.iD)("button",{key:0,onClick:t[0]||(t[0]=(0,s.iM)((function(){return v.onInfo&&v.onInfo.apply(v,arguments)}),["prevent"]))},u)):(0,i.kq)("",!0),(0,i._)("span",{class:"name-content",textContent:(0,c.zw)(n.name)},null,8,r)]),(0,i._)("div",d,[(0,i.Wm)(w,{disabled:n.loading,value:n.state,onInput:v.onToggle},null,8,["disabled","value","onInput"])])])}var f=n(6137),w=n(1232),g={name:"Switch",components:{Loading:w.Z,ToggleSwitch:f.Z},emits:["toggle","info"],props:{name:{type:String,required:!0},state:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},hasInfo:{type:Boolean,default:!1},id:{type:String}},methods:{onInfo:function(e){return e.stopPropagation(),this.$emit("info"),!1},onToggle:function(e){return e.stopPropagation(),this.$emit("toggle"),!1}}},p=n(3744);const h=(0,p.Z)(g,[["render",v],["__scopeId","data-v-38eb9831"]]);var m=h}}]);
//# sourceMappingURL=2844-legacy.a6c67900.js.map