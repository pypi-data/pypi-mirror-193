(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1009],{17903:function(n,e,t){"use strict";t.d(e,{Z:function(){return x}});var r=t(82394),o=t(12691),i=t.n(o),c=t(82684),u=t(67971),l=t(10919),a=t(86673),s=t(19711),d=t(46261),f=t(9518),p=t(23831),b=t(49125),h=f.default.table.withConfig({displayName:"indexstyle__TableStyle",componentId:"sc-1wzfyed-0"})(["contain:size;width:100%;",""],(function(n){return(n.columnBorders||n.borderCollapseSeparate)&&"\n    border-collapse: separate;\n  "})),m=f.default.tr.withConfig({displayName:"indexstyle__TableRowStyle",componentId:"sc-1wzfyed-1"})(["",""],(function(n){return!n.noHover&&"\n    &:hover {\n      background: ".concat((n.theme.interactive||p.Z.interactive).rowHoverBackground,";\n      cursor: pointer;\n    }\n  ")})),v=(0,f.css)(["text-overflow:ellipsis;white-space:nowrap;"," "," "," "," "," ",""],(function(n){return!n.alignTop&&"\n    vertical-align: middle;\n  "}),(function(n){return n.alignTop&&"\n    vertical-align: top;\n  "}),(function(n){return!n.noBorder&&"\n    border-bottom: 1px solid ".concat((n.theme.borders||p.Z.borders).light,";\n  ")}),(function(n){return n.compact&&"\n    padding: ".concat(b.iI/2,"px ").concat(b.iI,"px;\n  ")}),(function(n){return!n.compact&&"\n    padding: ".concat(b.iI,"px ").concat(2*b.iI,"px;\n  ")}),(function(n){return n.maxWidth&&"\n    max-width: ".concat(n.maxWidth,";\n  ")})),g=f.default.th.withConfig({displayName:"indexstyle__TableHeadStyle",componentId:"sc-1wzfyed-2"})([""," "," "," ",""],v,(function(n){return n.columnBorders&&"\n    border: 1px solid ".concat((n.theme.borders||p.Z.borders).light,";\n    border-right: none;\n  ")}),(function(n){return n.columnBorders&&n.last&&"\n    border-right: 1px solid ".concat((n.theme.borders||p.Z.borders).light,";\n  ")}),(function(n){return n.sticky&&"\n    background-color: ".concat((n.theme||p.Z).background.panel,";\n    border-bottom: 1px solid ").concat((n.theme.borders||p.Z.borders).medium,";\n    z-index: 1;\n    position: sticky;\n    top: 0;\n\n    &:first-child {\n      left: 0;\n      z-index: 2;\n    }\n  ")})),y=f.default.td.withConfig({displayName:"indexstyle__TableDataStyle",componentId:"sc-1wzfyed-3"})([""," "," "," "," "," ",""],v,(function(n){return n.columnBorders&&"\n    border-left: 1px solid ".concat((n.theme.borders||p.Z.borders).light,";\n  ")}),(function(n){return n.columnBorders&&n.last&&"\n    border-right: 1px solid ".concat((n.theme.borders||p.Z.borders).light,";\n  ")}),(function(n){return n.stickyFirstColumn&&"\n    background-color: ".concat((n.theme||p.Z).background.panel,";\n    z-index: 1;\n    position: sticky;\n    left: 0;\n  ")}),(function(n){return n.selected&&"\n    background-color: ".concat((n.theme.interactive||p.Z.interactive).activeBorder,";\n  ")}),(function(n){return n.wrapColumns&&"\n    white-space: break-spaces;\n  "})),j=t(28598);function O(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function w(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?O(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var x=function(n){var e=n.alignTop,t=n.borderCollapseSeparate,r=n.buildLinkProps,o=n.columnBorders,f=n.columnFlex,p=n.columnMaxWidth,b=n.columns,v=void 0===b?[]:b,O=n.compact,x=n.isSelectedRow,P=n.noBorder,Z=n.noHeader,k=n.onClickRow,C=n.rows,_=n.stickyFirstColumn,I=n.stickyHeader,M=n.uuid,S=n.wrapColumns,D=(0,c.useMemo)((function(){return f.reduce((function(n,e){return n+(e||0)}),0)}),f),E=(0,c.useCallback)((function(n){if(f[n]){var e=Math.round(f[n]/D*100);return"".concat(e,"%")}return null}),[]),B=(0,c.useMemo)((function(){return null===C||void 0===C?void 0:C.map((function(n,t){var u=null===r||void 0===r?void 0:r(t),a=n.map((function(r,i){return(0,j.jsx)(y,{alignTop:e,columnBorders:o,compact:O,last:i===n.length-1,maxWidth:null===p||void 0===p?void 0:p(i),noBorder:P,selected:null===x||void 0===x?void 0:x(t),stickyFirstColumn:_&&0===i,width:E(i),wrapColumns:S,children:r},"".concat(M,"-row-").concat(t,"-cell-").concat(i))})),s=(0,j.jsx)(m,{noHover:!(u||k),onClick:k?function(){return k(t)}:null,children:a},"".concat(M,"-row-").concat(t));return u?(0,c.createElement)(i(),w(w({},u),{},{key:"".concat(M,"-row-link-").concat(t),passHref:!0}),(0,j.jsx)(l.Z,{fullWidth:!0,noHoverUnderline:!0,noOutline:!0,style:{display:"table-row-group"},verticalAlignContent:!0,children:s})):s}))}),[e,r,E,p,v,O,x,P,k,C]);return(0,j.jsxs)(h,{borderCollapseSeparate:t,columnBorders:o,children:[(null===v||void 0===v?void 0:v.length)>=1&&!Z&&(0,j.jsx)(m,{noHover:!0,children:v.map((function(n,e){return(0,j.jsx)(g,{columnBorders:o,compact:O,last:e===v.length-1,noBorder:P,sticky:I,children:(0,j.jsxs)(u.Z,{alignItems:"center",children:[(0,j.jsx)(s.ZP,{bold:!0,leftAligned:!0,monospace:!0,muted:!0,children:n.label?n.label():n.uuid}),n.tooltipMessage&&(0,j.jsx)(a.Z,{ml:"4px",children:(0,j.jsx)(d.Z,{appearBefore:!0,label:(0,j.jsx)(s.ZP,{leftAligned:!0,children:n.tooltipMessage}),lightBackground:!0,primary:!0})})]})},"".concat(M,"-col-").concat(n.uuid,"-").concat(e))}))}),B]})}},66050:function(n,e,t){"use strict";var r;t.d(e,{V:function(){return r}}),function(n){n.CANCELLED="cancelled",n.COMPLETED="completed",n.FAILED="failed",n.INITIAL="initial",n.RUNNING="running"}(r||(r={}))},92597:function(n,e,t){"use strict";t.r(e);var r=t(77837),o=t(82394),i=t(38860),c=t.n(i),u=t(82684),l=t(34376),a=t(70434),s=t(67971),d=t(51099),f=t(97496),p=t(41788),b=t(55378),h=t(86673),m=t(19711),v=t(82531),g=t(47409),y=t(66050),j=t(49125),O=t(33766),w=t(24224),x=t(59e3),P=t(28598);function Z(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function k(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Z(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function C(){var n=(0,l.useRouter)(),e=(0,x.iV)(),t=null!==e&&void 0!==e&&e.page?e.page:0,r=v.ZP.pipelines.list().data,o={_limit:25,_offset:25*t};null!==e&&void 0!==e&&e.status&&(o.status=e.status);var i=v.ZP.pipeline_runs.list(o,{refreshInterval:3e3,revalidateOnFocus:!0}),c=i.data,p=i.mutate,Z=(0,u.useMemo)((function(){return(null===r||void 0===r?void 0:r.pipelines)||[]}),[r]),C=((0,u.useMemo)((function(){return(0,w.HK)(Z,(function(n){return n.uuid}))}),[Z]),(0,u.useMemo)((function(){return(null===c||void 0===c?void 0:c.pipeline_runs)||[]}),[c])),_=(0,u.useMemo)((function(){var n;return(null===c||void 0===c||null===(n=c.metadata)||void 0===n?void 0:n.count)||[]}),[c]);return(0,P.jsxs)(a.Z,{title:"Pipeline runs",uuid:"pipeline_runs/index",children:[(0,P.jsx)(h.Z,{mx:2,my:1,children:(0,P.jsxs)(s.Z,{alignItems:"center",children:[(0,P.jsx)(m.ZP,{bold:!0,default:!0,large:!0,children:"Filter runs by status:"}),(0,P.jsx)(h.Z,{mr:1}),(0,P.jsxs)(b.Z,{compact:!0,defaultColor:!0,fitContent:!0,onChange:function(e){e.preventDefault(),"all"===e.target.value?n.push("/pipeline-runs"):(0,O.u)({page:0,status:e.target.value})},paddingRight:4*j.iI,placeholder:"Select run status",value:(null===e||void 0===e?void 0:e.status)||"all",children:[(0,P.jsx)("option",{value:"all",children:"All statuses"},"all_statuses"),Object.values(y.V).map((function(n){return(0,P.jsx)("option",{value:n,children:g.D[n]},n)}))]})]})}),(0,P.jsx)(f.Z,{fetchPipelineRuns:p,pipelineRuns:C}),(0,P.jsx)(h.Z,{p:2,children:(0,P.jsx)(d.Z,{maxPages:9,onUpdate:function(t){var r=Number(t),o=k(k({},e),{},{page:r>=0?r:0});n.push("/pipeline-runs","/pipeline-runs?".concat((0,x.uM)(o)))},page:Number(t),totalPages:Math.ceil(_/25)})})]})}C.getInitialProps=(0,r.Z)(c().mark((function n(){return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{});case 1:case"end":return n.stop()}}),n)}))),e.default=(0,p.Z)(C)},24224:function(n,e,t){"use strict";t.d(e,{HK:function(){return l},IN:function(){return j},Od:function(){return f},Qj:function(){return m},Sm:function(){return y},YC:function(){return a},fS:function(){return b},m5:function(){return g},mp:function(){return O},mr:function(){return s},oM:function(){return p},ry:function(){return d},sE:function(){return u},tS:function(){return h},w6:function(){return v}});var r=t(82394),o=t(7715);function i(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function c(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?i(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function u(n,e){return null===n||void 0===n?void 0:n.find(e)}function l(n,e){return null===n||void 0===n?void 0:n.reduce((function(n,t){return c(c({},n),{},(0,r.Z)({},e(t),t))}),{})}function a(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.ascending,i=void 0===r||r,c=t.absoluteValue,u=void 0!==c&&c,l="string"===typeof e||"number"===typeof e?function(n){return u?Math.abs((0,o.t2)(n,e)):(0,o.t2)(n,e)}:function(n){return u?Math.abs(e(n)):e(n)};return n.sort((function(n,e){var t=0;return l(n)>l(e)?t=i?1:-1:l(n)<l(e)&&(t=i?-1:1),t}))}function s(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=e.ascending,r=void 0===t||t;return n.sort((function(n,e){var t=0;return n[0]>e[0]?t=r?1:-1:n[0]<e[0]&&(t=r?-1:1),t}))}function d(n,e){for(var t=-1,r=n.length;1+t<r;){var o=t+(r-t>>1);e(n[o])?t=o:r=o}return r}function f(n,e){var t=n.findIndex(e);return p(n,t)}function p(n,e){return n.slice(0,e).concat(n.slice(e+1,n.length))}function b(n,e){return n.map((function(n){return String(n)})).join()===e.map((function(n){return String(n)})).join()}function h(n,e){return n>e}function m(n,e){return n<e}function v(n){return Array(n).fill(0)}function g(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=Array.from(Array(n).keys());return 0!==e&&(t=t.map((function(n){return n+e}))),t}function y(n){return n.reduce((function(n,e){return n+e}),0)}function j(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=n.reduce((function(n,e){return n+e}),0)/n.length;return Math.sqrt(n.reduce((function(n,e){return n.concat(Math.pow(e-t,2))}),[]).reduce((function(n,e){return n+e}),0)/(n.length-(e?0:1)))}function O(n){return n[Math.floor(Math.random()*n.length)]}},60710:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipeline-runs",function(){return t(92597)}])}},function(n){n.O(0,[3850,2083,9767,6579,434,9898,4846,9774,2888,179],(function(){return e=60710,n(n.s=e);var e}));var e=n.O();_N_E=e}]);